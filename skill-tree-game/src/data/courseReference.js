const courseData = {
  "course": {
    "title": "Future Web Development With AI",
    "description": "This 8-day course guides students through developing critical AI literacy and web development skills by creating websites for real clients. Students learn to use AI tools ethically, analyze their limitations, and apply technical skills to solve community-centered problems. The curriculum incorporates the Scrum framework for project management and emphasizes professional communication, peer feedback, and portfolio development. The capstone is a final presentation of the client websites at a community showcase.",
    "days": [
      {
        "day": 1,
        "title": "Foundations, Building Independent Learners & AI Literacy",
        "objective": "Students will establish community connections and develop a critical framework for AI-assisted web development. They will create their first website with a community focus while learning to question and analyze AI tools rather than simply use them.",
        "learningTargets": [
          "Analyze AI tools as human-created systems by identifying whose perspectives are included/excluded in AI outputs and documenting specific examples of bias.",
          "Connect personal/cultural assets to community problem-solving by identifying authentic community needs and explaining how technology could address them.",
          "Communicate technical observations and cultural insights clearly through multiple formats while contributing actively to community learning."
        ],
        "keyConcepts": [
          "Cultural Assets",
          "AI Bias",
          "Large Language Models (LLMs)",
          "Visual Hierarchy",
          "AI Prompting"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "Community & AI Demystification",
            "activities": [
              {
                "time": "10:30-10:50",
                "title": "Opening Circle - The Connection Web",
                "description": "Students gather in a circle, and as they introduce themselves, they toss a ball of yarn to another student while holding onto a thread, creating a web."
              },
              {
                "time": "11:00-11:30",
                "title": "Cultural Asset Mapping",
                "description": "Students individually complete a cultural asset map reflecting on their strengths, learning styles, and skills from their lived experiences. They then share these in groups to create a collective asset web on chart paper. A gallery walk follows where students add sticky notes to other groups' webs to show connections."
              },
              {
                "time": "11:45-12:30",
                "title": "AI Demystification Workshop - The Bias Hunt",
                "description": "An introduction to AI as a human-created tool and the concept of bias. The activity has multiple phases: Investigation (in pairs, students use the same prompt to generate and document AI responses), Comparison (students switch pairs to compare outputs and identify patterns), and filling out a Bias Alert Card (identifying an assumption, a missing perspective, and an anti-bias strategy)."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "First Website Creation & Visuals",
            "activities": [
              {
                "time": "1:00-2:00",
                "title": "First Website Creation Sprint",
                "description": "Students use the Future Coding ChatBot to create their first website about a topic they enjoy, their community, or TPZ."
              },
              {
                "time": "2:00-3:00",
                "title": "Visual Hierarchy Workshop",
                "description": "Students are introduced to visual hierarchy principles like size, scale, proximity, and color/contrast. They then perform a gallery walk of sample websites to identify these principles using sticky notes."
              },
              {
                "time": "3:00-4:00",
                "title": "Website Revising Session & Closing Circle",
                "description": "Students apply visual hierarchy principles to their own websites, learning the difference between vague and specific prompts. The session ends with a final gallery walk where students leave feedback on classmates' websites and share one learning from the day."
              }
            ]
          }
        ],
        "deliverables": [
          "Individual Cultural Asset Map",
          "Group Cultural Asset Web",
          "Bias Alert Card",
          "First Website Draft"
        ]
      },
      {
        "day": 2,
        "title": "Cultural Knowledge & Skill Development",
        "objective": "Students will connect their cultural knowledge to technical skill development while exploring web development skills through personalized learning pathways. They will experiment with 'remixing' AI tools to better serve their communities and practice communicating technical concepts to peers.",
        "learningTargets": [
          "Evaluate AI tools strategically by selecting appropriate AI assistance for specific technical tasks while documenting ethical considerations and limitations.",
          "Apply technical skills to community-centered projects by implementing new web development capabilities that address authentic community needs.",
          "Teach technical concepts effectively by communicating web development skills to peers using culturally responsive methods and providing constructive feedback."
        ],
        "keyConcepts": [
          "AI Prompting Techniques",
          "Ethical Considerations of AI",
          "Peer Teaching"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "AI Art & Skill Stations",
            "activities": [
              {
                "time": "10:30-11:00",
                "title": "Opening Circle - AI Art Gallery Challenge",
                "description": "Students use aistudio.google.com to attempt to replicate an image of a superhero by writing descriptive prompts for the AI."
              },
              {
                "time": "11:00-12:30",
                "title": "Skill Marketplace Stations",
                "description": "Students are separated into two learning stations and rotate between them. One station focuses on how to decorate a website (Visual and Interactive Design), and the other focuses on adding helpful information to a website (AI Integration)."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "AI Ethics & Prompt Mastery",
            "activities": [
              {
                "time": "1:00-1:15",
                "title": "Afternoon Opening Circle - Ethical Considerations",
                "description": "A group discussion about the ethical considerations of AI, including topics like AI Art, data sources, and job displacement."
              },
              {
                "time": "1:15-2:45",
                "title": "AI Prompting Mastery Workshop",
                "description": "Students choose one of three prompting techniques available at a station and use it to create a website over a 90-minute period."
              },
              {
                "time": "2:45-3:15",
                "title": "Prompt Recipe Card",
                "description": "Students document the prompting technique they just learned using a recipe card template. They must name the technique, explain its purpose, detail the formula, and provide an example."
              },
              {
                "time": "3:15-3:40",
                "title": "AI Speed Teaching Sessions",
                "description": "In groups of six, each student gets one minute to teach their prompt technique to the group, rotating until every member has been taught each technique."
              },
              {
                "time": "3:40-4:00",
                "title": "Closing Circle: Share & Celebrate",
                "description": "Students share one new thing they taught someone and what skills they are excited to learn next."
              }
            ]
          }
        ],
        "deliverables": [
          "AI-generated superhero image",
          "Website created using a specific prompting technique",
          "Prompt Recipe Card"
        ]
      },
      {
        "day": 3,
        "title": "Advanced Skills & Professional Preparation",
        "objective": "Students will develop advanced web features using AI tools strategically and ethically while creating professional portfolios and resumes that showcase both technical skills and communication abilities.",
        "learningTargets": [
          "Create advanced, professional-quality websites using strategic AI prompting and ethical decision-making.",
          "Build and present professional materials that showcase growth as critical technologists by curating a portfolio connecting technical skills to community impact.",
          "Support peer learning through constructive feedback and collaborative problem-solving."
        ],
        "keyConcepts": [
          "Advanced AI Prompting",
          "Website Debugging/Enhancement",
          "Professional Identity",
          "Digital Portfolios",
          "Resume Building",
          "Peer Feedback"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "Advanced Coding",
            "activities": [
              {
                "time": "10:30-11:00",
                "title": "Opening Circle - Prompt Battle",
                "description": "A quick-fire challenge where students use AI to create a simple, single-page 'About Me' website."
              },
              {
                "time": "11:00-12:30",
                "title": "Advance Coding Workshop",
                "description": "Students choose one of two flawed websites to improve. Phase 1 involves identifying 3 specific issues and documenting the AI prompts to solve them. Phase 2 is implementing those AI solutions to enhance the website."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "Professional Identity",
            "activities": [
              {
                "time": "1:00-2:30",
                "title": "Professional Identity Workshop (Digital Portfolio and Resume)",
                "description": "This workshop is done in three phases. Phase 1: Personal Story Development, where students craft their professional origin story. Phase 2: AI Portfolio Building, where students begin creating a digital portfolio, starting with an 'About Me' page. Phase 3: Resume Outline Creation, where students use AI to develop a resume outline with a professional summary, skills, and projects."
              },
              {
                "time": "2:30-3:45",
                "title": "Portfolio Discussion Circles & Revision",
                "description": "Students conduct a gallery walk of their peers' new portfolios and resumes. They then provide constructive feedback in small groups using sticky notes. Afterwards, students use this feedback to revise their own materials."
              },
              {
                "time": "3:45-4:00",
                "title": "Closing Circle",
                "description": "Students reflect on their most effective prompting strategies and how their relationship with AI has changed over the first three days."
              }
            ]
          }
        ],
        "deliverables": [
          "'About Me' website",
          "Improved/fixed website",
          "Personal origin story statement",
          "Digital portfolio draft",
          "Resume outline"
        ]
      },
      {
        "day": 4,
        "title": "Client Connection & Career Exploration",
        "objective": "Students will connect their learning to CS/IT career pathways through professional communication with the Ventures team, conduct authentic client discovery interviews, and define projects that serve real business needs while maintaining community focus.",
        "learningTargets": [
          "Engage professionally with industry representatives using appropriate communication styles.",
          "Ask thoughtful questions about career paths and technology's social impact.",
          "Conduct client interviews that uncover both practical needs and values.",
          "Collaborate effectively in teams to define authentic projects."
        ],
        "keyConcepts": [
          "Professional Communication",
          "Client Interviews",
          "Project Scoping",
          "Team Formation",
          "Project Pitching"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "Client & Career Panel",
            "activities": [
              {
                "time": "10:30-11:00",
                "title": "Opening Circle - Professional Communication Prep",
                "description": "Students sit across from one another and use question templates to practice engaging in a professional conversation, simulating a real panel."
              },
              {
                "time": "11:00-12:30",
                "title": "Client/Career Panel",
                "description": "Students meet professional mentors and clients. First, panelists introduce themselves. Then, students break into small groups and rotate through different client groups for 15-18 minute conversations to ask questions about career journeys and project needs."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "Project Definition & Team Planning",
            "activities": [
              {
                "time": "1:15-1:45",
                "title": "Client Selection & Team Formation",
                "description": "Based on the morning's conversations, students decide which client project they want to work on. They then form project teams of three based on their selection."
              },
              {
                "time": "1:45-3:15",
                "title": "Project Groundwork",
                "description": "In their new teams, students use their notes from the client interviews to fill out a 'Client Needs Capture List'."
              },
              {
                "time": "3:15-3:45",
                "title": "Project Roadmap and Pitch Prep",
                "description": "Teams create a high-level roadmap for their project, defining realistic goals and planning the website structure. They also prepare a two-minute verbal pitch identifying the client, the problem, their solution, and their excitement for the project."
              },
              {
                "time": "3:45-4:00",
                "title": "Closing Circle",
                "description": "Students share one thing that surprised them from the day's client conversations."
              }
            ]
          }
        ],
        "deliverables": [
          "Client Interview Notes",
          "Client Needs Capture List",
          "Project Roadmap",
          "2-minute Project Pitch"
        ]
      },
      {
        "day": 5,
        "title": "Project Development & Scrum Methodology",
        "objective": "Students will apply professional project management through Scrum methodology while establishing clear team communication protocols. They will begin intensive development work with regular check-ins and strategic AI implementation.",
        "learningTargets": [
          "Apply Scrum methodology with clear communication protocols.",
          "Establish team guidelines for effective collaboration and communication.",
          "Create development plans that balance technical goals with community impact.",
          "Implement web solutions using AI tools while documenting decisions.",
          "Communicate technical progress and challenges clearly to team members."
        ],
        "keyConcepts": [
          "Scrum",
          "Sprints",
          "Scrum Roles (Product Owner, Scrum Master, Developer)",
          "Scrum Ceremonies (Sprint Planning, Daily Stand-up, Retrospective)",
          "Minimum Viable Product (MVP)",
          "User Stories",
          "Team Charter"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "Intro to Scrum",
            "activities": [
              {
                "time": "10:50-11:35",
                "title": "Scrum Introduction & Paper Airplane Factory",
                "description": "Students are introduced to the Scrum framework, roles, and ceremonies. They then participate in a two-round activity. In Round 1, they build as many paper airplanes as possible in 2 minutes. Then, client requirements are revealed. In Round 2, they use Scrum roles and sprints to build planes that meet the requirements, demonstrating how the process improves output."
              },
              {
                "time": "11:35-12:30",
                "title": "Scrum Team Charters",
                "description": "Teams create a formal 'Team Charter' that includes a team name, drawings of teammates' superpowers, communication rules ('How We Roll'), roles for the day, and a 'Definition of DONE'."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "First Sprint",
            "activities": [
              {
                "time": "1:00-1:45",
                "title": "Sprint Planning Session",
                "description": "Teams plan their sprint to build a Minimum Viable Product (MVP). This involves writing 'user stories' in the 'AS A... I WANT... SO THAT...' format, prioritizing them with the MoSCoW method, and creating a sprint board."
              },
              {
                "time": "1:45-3:25",
                "title": "First Development Sprint",
                "description": "Teams begin coding their MVP, following a checklist that includes creating a GitHub repo, moving tasks on their board, using a chatbot for help, and committing code every 20-30 minutes. A daily stand-up is held at 2:30 PM to check progress."
              },
              {
                "time": "3:40-4:00",
                "title": "Sprint Retrospective - Good Sick / Bad Sick / Stoked",
                "description": "Each student uses sticky notes to reflect on something that went well ('Good Sick'), a challenge ('Bad Sick'), and something they are excited for ('Stoked'). The team discusses these to celebrate wins and problem-solve."
              },
              {
                "time": "3:50-4:00",
                "title": "Closing Circle: Shout-Out Your Squad",
                "description": "Students give shout-outs to someone who helped them during the day."
              }
            ]
          }
        ],
        "deliverables": [
          "Team Charter",
          "Sprint Board with User Stories",
          "A partially-built MVP with code committed to GitHub"
        ]
      },
      {
        "day": 6,
        "title": "Testing & Client Feedback",
        "objective": "Students will design and conduct user testing while practicing professional communication skills. They will facilitate client feedback sessions and communicate findings clearly to inform project iterations.",
        "learningTargets": [
          "Design & facilitate user testing protocols that gather diverse perspectives.",
          "Document and communicate feedback about both technical features and UX.",
          "Use scrum framework to plan iterations based on feedback.",
          "Present project progress professionally to clients.",
          "Develop confidence in ability to gather and respond to feedback."
        ],
        "keyConcepts": [
          "User Testing",
          "User Experience (UX)",
          "Testing Protocol",
          "Client Feedback",
          "Iteration",
          "Priority Matrix"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:50-12:30",
            "title": "User Testing",
            "activities": [
              {
                "time": "10:50-11:10",
                "title": "Intro to User Testing",
                "description": "Students learn that user testing focuses on the design, not the user. The concept is illustrated with an activity where students analyze the usability of the Berkshire Hathaway website."
              },
              {
                "time": "11:10-12:20",
                "title": "Peer Testing Round",
                "description": "Teams design a simple testing protocol with three tasks for a user. They then partner with another team. One team tests the other's site by 'thinking aloud' while the observing team takes notes without helping. They then switch roles."
              },
              {
                "time": "12:20-12:30",
                "title": "Debrief & Quick Fix",
                "description": "Teams huddle to discuss the top 3 insights from their testing session and then have 10 minutes to implement one 'quick fix' based on the feedback."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "Client Feedback & Planning",
            "activities": [
              {
                "time": "1:00-2:00",
                "title": "Client Presentation Prep",
                "description": "Teams fix the #1 issue from their morning user testing, prepare their physical space, and practice their 30-second project summary. They also assign roles for the client meeting: greeter, demoer, and note-taker."
              },
              {
                "time": "2:00-3:10",
                "title": "Client Feedback Session",
                "description": "Clients arrive for a structured session that includes a warm welcome, a demo where clients can click around the website themselves, and a feedback capture portion with questions like 'What excites you most?' and 'What would make this even better?'."
              },
              {
                "time": "3:10-3:40",
                "title": "From Feedback to Action Plan",
                "description": "After the clients leave, teams sort the feedback into a 'Priority Matrix' with four categories: Do Now, Do Next, Do If Time, and Don't Do. They then update their task boards and GitHub."
              },
              {
                "time": "3:50-4:00",
                "title": "Closing Circle - Client Victory Lap",
                "description": "A celebratory circle where students step forward if they met certain criteria, such as 'Your client smiled or said \"wow\"' or 'You learned something surprising from client feedback'."
              }
            ]
          }
        ],
        "deliverables": [
          "User testing protocol (3 tasks)",
          "User testing notes",
          "An implemented 'quick fix' on the website",
          "Updated sprint board/task board",
          "Priority matrix of client feedback"
        ]
      },
      {
        "day": 7,
        "title": "Final Development & Presentation Preparation",
        "objective": "Students will complete their client projects with attention to both technical excellence and clear communication. They will craft presentations that effectively communicate both technical achievements and their development as critical technologists.",
        "learningTargets": [
          "Implement final features while maintaining clear documentation and communicating design decisions.",
          "Take leadership in ensuring project quality and clear communication.",
          "Craft presentations that effectively communicate technical achievements and learning.",
          "Articulate the role of AI tools in the development process.",
          "Provide constructive feedback that helps peers."
        ],
        "keyConcepts": [
          "Documentation",
          "Feature Freeze",
          "Final Sprint",
          "Presentation Skills"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:50-12:30",
            "title": "Final Sprint & Documentation",
            "activities": [
              {
                "time": "10:50-11:20",
                "title": "Documentation Harvest",
                "description": "The Product Owner for each team gathers key project artifacts into a team folder. This includes chatbot conversation exports, useful prompts, screenshots of the MVP vs. the current version, a photo of the sprint board, and the team charter."
              },
              {
                "time": "11:20-12:20",
                "title": "Final Polish Sprint",
                "description": "Teams rotate Scrum roles one last time and conduct a final stand-up to align on priorities. A 'feature freeze' is enforced at 11:20, where no new features are added, and the focus shifts to polishing and bug-fixing."
              },
              {
                "time": "12:20-12:30",
                "title": "Ship It Ceremony",
                "description": "A symbolic ceremony to mark the completion of the development phase of the project."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "Presentation Preparation",
            "activities": [
              {
                "time": "1:00-2:30",
                "title": "Science Fair Poster Creation",
                "description": "Teams plan and produce a 'science fair' style presentation poster to tell the story of their project, their process, and the final outcome for a large audience."
              },
              {
                "time": "2:30-3:40",
                "title": "Presentation Practice & Peer Feedback",
                "description": "Teams set up their presentation space, practice their delivery, and then conduct a gallery walk to give and receive constructive feedback on each other's posters and presentation styles."
              }
            ]
          }
        ],
        "deliverables": [
          "A complete team folder of project documentation",
          "The finished client website",
          "A 'Science Fair' presentation poster"
        ]
      },
      {
        "day": 8,
        "title": "Showcase & Reflection",
        "objective": "Students will present their final projects to clients and community members, demonstrating both technical competence and professional communication skills. They will reflect on their growth and communicate their development as critical technologists.",
        "learningTargets": [
          "Present projects professionally using effective communication techniques.",
          "Articulate growth as both a technical practitioner and communicator.",
          "Engage in professional dialogue about technology's role in community development.",
          "Reflect comprehensively on technical and communication skill development.",
          "Communicate how their relationship with technology has evolved.",
          "Feel confident in their identity as emerging technologists and community contributors."
        ],
        "keyConcepts": [
          "Professional Presentations",
          "Community Showcase",
          "Self-Reflection",
          "Portfolio Finalization"
        ],
        "agenda": [
          {
            "time_period": "Morning",
            "time_range": "10:30-12:30",
            "title": "Showcase",
            "activities": [
              {
                "time": "10:30-10:50",
                "title": "Opening Circle",
                "description": "A final huddle to prepare for the showcase, reviewing presentation techniques and key messages about community impact."
              },
              {
                "time": "10:50-12:30",
                "title": "Client Presentations & Community Showcase",
                "description": "Students present their finished websites to their clients and other community members. This is the culminating event where they showcase their work from the entire program."
              }
            ]
          },
          {
            "time_period": "Afternoon",
            "time_range": "1:00-4:00",
            "title": "Reflection & Celebration",
            "activities": [
              {
                "time": "1:00-3:40",
                "title": "Reflection, Celebration & Future Communication",
                "description": "Students engage in a final, comprehensive reflection on their journey. They use worksheets to articulate their growth in technical and communication skills, finalize their digital portfolios, and complete a program evaluation."
              },
              {
                "time": "3:50-4:00",
                "title": "Closing Circle",
                "description": "The final circle of the program, focused on celebration and looking ahead."
              }
            ]
          }
        ],
        "deliverables": [
          "Final Client Presentation",
          "Finalized Digital Portfolio",
          "Completed Program Reflection/Evaluation"
        ]
      }
    ]
  }
};

// Helper functions to get contextual course information
export const getCourseContext = (selectedDay, currentTime = null) => {
  const dayData = courseData.course.days.find(d => d.day === selectedDay);
  if (!dayData) return null;

  let currentActivity = null;
  let timeContext = '';
  
  if (currentTime) {
    const time = parseTime(currentTime);
    if (time) {
      currentActivity = getCurrentActivity(dayData, time);
      timeContext = getTimeContext(time);
    }
  }

  return {
    course: courseData.course,
    dayData,
    currentActivity,
    timeContext,
    selectedDay
  };
};

export const getCurrentActivity = (dayData, currentTime) => {
  if (!dayData || !currentTime) return null;

  for (const period of dayData.agenda) {
    for (const activity of period.activities) {
      const timeRange = parseTimeRange(activity.time);
      if (timeRange && isTimeInRange(currentTime, timeRange.start, timeRange.end)) {
        return {
          ...activity,
          period: period.title,
          periodTimeRange: period.time_range
        };
      }
    }
  }
  return null;
};

export const getTimeContext = (currentTime) => {
  const hour = currentTime.hour;
  const minute = currentTime.minute;
  const timeNum = hour + (minute / 60);

  if (timeNum >= 10.0 && timeNum < 12.0) {
    return 'Morning session (10:00-11:59 AM)';
  } else if (timeNum >= 12.0 && timeNum <= 16.0) {
    return 'Afternoon session (12:00-4:00 PM)';
  } else if (timeNum < 10.0) {
    return 'Before class starts (class begins at 10:30 AM)';
  } else {
    return 'After class ends (class ends at 4:00 PM)';
  }
};

export const parseTime = (timeString) => {
  // Parse time in format like "10:30", "14:30", etc.
  const match = timeString.match(/^(\d{1,2}):(\d{2})$/);
  if (!match) return null;
  
  return {
    hour: parseInt(match[1]),
    minute: parseInt(match[2])
  };
};

export const parseTimeRange = (timeRangeString) => {
  // Parse time range like "10:30-11:00"
  const match = timeRangeString.match(/^(\d{1,2}):(\d{2})-(\d{1,2}):(\d{2})$/);
  if (!match) return null;

  return {
    start: { hour: parseInt(match[1]), minute: parseInt(match[2]) },
    end: { hour: parseInt(match[3]), minute: parseInt(match[4]) }
  };
};

export const isTimeInRange = (currentTime, startTime, endTime) => {
  const current = currentTime.hour * 60 + currentTime.minute;
  const start = startTime.hour * 60 + startTime.minute;
  const end = endTime.hour * 60 + endTime.minute;
  
  return current >= start && current <= end;
};

export const formatCourseContextForAI = (courseContext, currentTime) => {
  if (!courseContext) return '';

  const { course, dayData, currentActivity, timeContext, selectedDay } = courseContext;
  
  let context = `\n=== COURSE CONTEXT ===\n`;
  context += `Course: ${course.title}\n`;
  context += `Current Day: Day ${selectedDay} - ${dayData.title}\n`;
  context += `Current Time: ${currentTime}\n`;
  context += `Day Objective: ${dayData.objective}\n\n`;

  if (timeContext) {
    context += `Time Context: ${timeContext}\n`;
  }

  if (currentActivity) {
    context += `\nðŸŽ¯ CURRENT ACTIVITY:\n`;
    context += `Time: ${currentActivity.time}\n`;
    context += `Activity: ${currentActivity.title}\n`;
    context += `Description: ${currentActivity.description}\n`;
    context += `Period: ${currentActivity.period} (${currentActivity.periodTimeRange})\n\n`;
    
    context += `As their coding assistant, you should:\n`;
    context += `â€¢ Help with tasks related to this specific activity\n`;
    context += `â€¢ Reference the activity context in your responses\n`;
    context += `â€¢ Guide them toward the learning goals of this activity\n`;
    context += `â€¢ Be aware of time constraints for this activity\n\n`;
  }

  context += `Today's Learning Targets:\n`;
  dayData.learningTargets.forEach((target, i) => {
    context += `${i + 1}. ${target}\n`;
  });

  context += `\nKey Concepts for Today:\n`;
  dayData.keyConcepts.forEach(concept => {
    context += `â€¢ ${concept}\n`;
  });

  context += `\nToday's Deliverables:\n`;
  dayData.deliverables.forEach(deliverable => {
    context += `â€¢ ${deliverable}\n`;
  });

  context += `\n=== END COURSE CONTEXT ===\n`;

  return context;
};

export default courseData;
